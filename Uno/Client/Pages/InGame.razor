@page "/game"
@using Uno.Shared

@inject Api api

@code {
    private ListenGameResponse lastStatus = ListenGameResponse.Empty;

    protected override void OnInitialized()
    {
        base.OnInitializedAsync();

        ListenGame()
            .CatchExceptions();
    }

    private async Task ListenGame()
    {
        await foreach (var status in this.api.Game.ListenGameAsync(new ListenGameRequest()))
        {
            
        }
    }
}
